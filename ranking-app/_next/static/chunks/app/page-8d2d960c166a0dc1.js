(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4455:function(e,a,t){Promise.resolve().then(t.bind(t,6593))},6593:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return V}});var s=t(7437),r=t(2265),l=t(1994),i=t(3335);function o(...e){return(0,i.m6)((0,l.W)(e))}let d=r.forwardRef(({className:e,...a},t)=>(0,s.jsx)("div",{ref:t,className:o("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));d.displayName="Card",r.forwardRef(({className:e,...a},t)=>(0,s.jsx)("div",{ref:t,className:o("flex flex-col space-y-1.5 p-6",e),...a})).displayName="CardHeader",r.forwardRef(({className:e,...a},t)=>(0,s.jsx)("h3",{ref:t,className:o("text-2xl font-semibold leading-none tracking-tight",e),...a})).displayName="CardTitle",r.forwardRef(({className:e,...a},t)=>(0,s.jsx)("p",{ref:t,className:o("text-sm text-muted-foreground",e),...a})).displayName="CardDescription",r.forwardRef(({className:e,...a},t)=>(0,s.jsx)("div",{ref:t,className:o("p-6 pt-0",e),...a})).displayName="CardContent",r.forwardRef(({className:e,...a},t)=>(0,s.jsx)("div",{ref:t,className:o("flex items-center p-6 pt-0",e),...a})).displayName="CardFooter";var n=t(6215),c=t(7625),x=t(1997),m=t(7059),p=t(2994),h=t(8147),u=t(2190),f=t(9349);function b({data:e,selectedYear:a}){let t=(()=>{let a=[];return Object.entries(e??{})?.forEach?.(e=>{let[t,s]=e;Array.isArray(s)&&s?.slice?.(0,10)?.forEach?.((e,s)=>{a.push({nome:`${e?.escola?.substring?.(0,15)??""}... ${e?.turma!=="\xfanica"?e?.turma:""}`,escola:e?.escola,turma:e?.turma,ano:t,media:e?.media_geral??0,posicao:e?.posicao??s+1,alunos:e?.total_alunos_geral??0})})}),a?.sort?.((e,a)=>(a?.media??0)-(e?.media??0))?.slice?.(0,15)??[]})();return t?.length?(0,s.jsxs)(d,{className:"p-6 bg-white/70 backdrop-blur-sm border-blue-200 shadow-lg",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-6",children:[(0,s.jsx)(n.Z,{className:"h-5 w-5 text-blue-600"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Top 15 Turmas - Ranking por M\xe9dia Geral"})]}),(0,s.jsx)("div",{className:"h-96",children:(0,s.jsx)(c.h,{width:"100%",height:"100%",children:(0,s.jsxs)(x.v,{data:t,margin:{top:20,right:30,left:20,bottom:60},children:[(0,s.jsx)(m.K,{dataKey:"nome",tickLine:!1,tick:{fontSize:10},angle:-45,textAnchor:"end",height:60,interval:"preserveStartEnd",label:{value:"Turmas",position:"insideBottom",offset:-15,style:{textAnchor:"middle",fontSize:11}}}),(0,s.jsx)(p.B,{tickLine:!1,tick:{fontSize:10},label:{value:"M\xe9dia (%)",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fontSize:11}}}),(0,s.jsx)(h.u,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:11},formatter:(e,a)=>[`${Number(e)?.toFixed?.(1)??"0.0"}%`,"M\xe9dia Geral"],labelFormatter:(e,a)=>{let t=a?.[0]?.payload;return`${t?.escola} - Turma ${t?.turma} (${t?.ano?.replace("o","\xba")} Ano)`}}),(0,s.jsx)(u.D,{verticalAlign:"top",wrapperStyle:{fontSize:11}}),(0,s.jsx)(f.$,{dataKey:"media",fill:"#60A5FA",name:"M\xe9dia Geral",radius:[4,4,0,0],style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.1))"}})]})})})]}):(0,s.jsx)(d,{className:"p-6 bg-white/70 backdrop-blur-sm border-blue-200 shadow-lg",children:(0,s.jsx)("div",{className:"flex items-center justify-center h-96 text-gray-500",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(n.Z,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,s.jsx)("p",{children:"Nenhum dado dispon\xedvel para exibir"})]})})})}var g=t(7888),j=t(875),y=t(2135),N=t(401);let v=g.fC;g.ZA;let w=g.B4,A=r.forwardRef(({className:e,children:a,...t},r)=>(0,s.jsxs)(g.xz,{ref:r,className:o("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...t,children:[a,(0,s.jsx)(g.JO,{asChild:!0,children:(0,s.jsx)(j.Z,{className:"h-4 w-4 opacity-50"})})]}));A.displayName=g.xz.displayName;let k=r.forwardRef(({className:e,...a},t)=>(0,s.jsx)(g.u_,{ref:t,className:o("flex cursor-default items-center justify-center py-1",e),...a,children:(0,s.jsx)(y.Z,{className:"h-4 w-4"})}));k.displayName=g.u_.displayName;let C=r.forwardRef(({className:e,...a},t)=>(0,s.jsx)(g.$G,{ref:t,className:o("flex cursor-default items-center justify-center py-1",e),...a,children:(0,s.jsx)(j.Z,{className:"h-4 w-4"})}));C.displayName=g.$G.displayName;let E=r.forwardRef(({className:e,children:a,position:t="popper",...r},l)=>(0,s.jsx)(g.h_,{children:(0,s.jsxs)(g.VY,{ref:l,className:o("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...r,children:[(0,s.jsx)(k,{}),(0,s.jsx)(g.l_,{className:o("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,s.jsx)(C,{})]})}));E.displayName=g.VY.displayName,r.forwardRef(({className:e,...a},t)=>(0,s.jsx)(g.__,{ref:t,className:o("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...a})).displayName=g.__.displayName;let _=r.forwardRef(({className:e,children:a,...t},r)=>(0,s.jsxs)(g.ck,{ref:r,className:o("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(g.wU,{children:(0,s.jsx)(N.Z,{className:"h-4 w-4"})})}),(0,s.jsx)(g.eT,{children:a})]}));_.displayName=g.ck.displayName,r.forwardRef(({className:e,...a},t)=>(0,s.jsx)(g.Z0,{ref:t,className:o("-mx-1 my-1 h-px bg-muted",e),...a})).displayName=g.Z0.displayName;var S=t(8501);function $({availableYears:e,selectedYear:a,onYearChange:t}){let r=e=>"all"===e?"Todos os Anos":`${e?.replace("o","\xba")?.replace("\xba","\xba")} Ano`;return(0,s.jsx)(d,{className:"p-6 bg-white/70 backdrop-blur-sm border-blue-200 shadow-lg",children:(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(S.Z,{className:"h-5 w-5 text-blue-600"}),(0,s.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Filtrar por Ano de Ensino:"})]}),(0,s.jsxs)(v,{value:a,onValueChange:t,children:[(0,s.jsx)(A,{className:"w-48 bg-white border-blue-300 focus:border-blue-500",children:(0,s.jsx)(w,{placeholder:"Selecione o ano"})}),(0,s.jsxs)(E,{children:[(0,s.jsx)(_,{value:"all",children:"Todos os Anos"}),e?.map?.(e=>s.jsx(_,{value:e||"all",children:r(e)},e))]})]})]})})}var Z=t(5805),R=t(8896),T=t(1987),z=t(9474),M=t(3287);function F({data:e}){let a,t,r,l,i;let o=(a=0,t=0,r=new Set,l=0,i=0,Object.values(e??{})?.forEach?.(e=>{Array.isArray(e)&&(a+=e?.length??0,e?.forEach?.(e=>{t+=e?.total_alunos_geral??0,r.add(e?.escola),i+=e?.media_geral??0}))}),a>0&&(l=i/a),{totalTurmas:a,totalAlunos:t,totalEscolas:r.size,mediaGeral:l?.toFixed?.(1)??"0.0"}),n=[{title:"Total de Turmas",value:o?.totalTurmas?.toString?.()??"0",icon:Z.Z,color:"bg-blue-500",bgColor:"bg-blue-50",borderColor:"border-blue-200"},{title:"Total de Alunos",value:o?.totalAlunos?.toString?.()??"0",icon:R.Z,color:"bg-green-500",bgColor:"bg-green-50",borderColor:"border-green-200"},{title:"Escolas Participantes",value:o?.totalEscolas?.toString?.()??"0",icon:T.Z,color:"bg-purple-500",bgColor:"bg-purple-50",borderColor:"border-purple-200"},{title:"M\xe9dia Geral",value:`${o?.mediaGeral}%`,icon:z.Z,color:"bg-orange-500",bgColor:"bg-orange-50",borderColor:"border-orange-200"}];return(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n?.map?.((e,a)=>{let t=e?.icon;return s.jsx(M.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*a},children:s.jsx(d,{className:`p-6 ${e?.bgColor} ${e?.borderColor} border-2 shadow-lg hover:shadow-xl transition-all duration-300`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:e?.title}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 drop-shadow-sm",children:e?.value})]}),s.jsx("div",{className:`p-3 rounded-full ${e?.color}`,children:s.jsx(t,{className:"h-6 w-6 text-white"})})]})})},e?.title)})})}let G=(0,t(7712).j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function L({className:e,variant:a,...t}){return(0,s.jsx)("div",{className:o(G({variant:a}),e),...t})}var O=t(6142),P=t(3327);function B({data:e}){let a=(()=>{let a=[];return Object.entries(e??{})?.forEach?.(e=>{let[t,s]=e;Array.isArray(s)&&s?.forEach?.(e=>{a.push({...e,ano:t})})}),a?.sort?.((e,a)=>(a?.media_geral??0)-(e?.media_geral??0))??[]})(),t=e=>{switch(e){case 1:return(0,s.jsx)(z.Z,{className:"h-5 w-5 text-yellow-500"});case 2:return(0,s.jsx)(O.Z,{className:"h-5 w-5 text-gray-400"});case 3:return(0,s.jsx)(P.Z,{className:"h-5 w-5 text-amber-600"});default:return(0,s.jsxs)("span",{className:"text-sm font-medium text-gray-600",children:["#",e]})}},r=e=>e>=80?(0,s.jsx)(L,{className:"bg-green-100 text-green-800",children:"Excelente"}):e>=70?(0,s.jsx)(L,{className:"bg-blue-100 text-blue-800",children:"Bom"}):e>=60?(0,s.jsx)(L,{className:"bg-yellow-100 text-yellow-800",children:"Regular"}):(0,s.jsx)(L,{className:"bg-red-100 text-red-800",children:"Precisa Melhorar"});return a?.length?(0,s.jsxs)(d,{className:"p-6 bg-white/70 backdrop-blur-sm border-blue-200 shadow-lg",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-6",children:[(0,s.jsx)(z.Z,{className:"h-5 w-5 text-blue-600"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Ranking Detalhado das Turmas"})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b-2 border-blue-200",children:[(0,s.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Posi\xe7\xe3o"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Escola"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Turma"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Ano"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"M\xe9dia Geral"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Alunos"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"LP"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"MAT"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"CN"}),(0,s.jsx)("th",{className:"text-left py-3 px-4 font-semibold text-gray-700",children:"Status"})]})}),(0,s.jsx)("tbody",{children:a?.slice?.(0,50)?.map?.((e,a)=>s.jsxs("tr",{className:"border-b border-blue-100 hover:bg-blue-50 transition-colors",children:[s.jsx("td",{className:"py-3 px-4",children:s.jsx("div",{className:"flex items-center space-x-2",children:t(a+1)})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("div",{className:"font-medium text-gray-900",children:e?.escola})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx(L,{variant:"outline",className:"bg-blue-50 text-blue-700",children:e?.turma!=="\xfanica"?`Turma ${e?.turma}`:"\xdanica"})}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("span",{className:"text-sm text-gray-600",children:[e?.ano?.replace("o","\xba")?.replace("\xba","\xba")," Ano"]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"font-bold text-lg text-blue-600",style:{textShadow:"0 1px 2px rgba(0,0,0,0.1)"},children:[e?.media_geral?.toFixed?.(1)??"0.0","%"]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm text-gray-600",children:e?.total_alunos_geral})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm font-medium",children:e?.materias?.LP?.toFixed?.(1)??"-"})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm font-medium",children:e?.materias?.MAT?.toFixed?.(1)??"-"})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:"text-sm font-medium",children:e?.materias?.CN?.toFixed?.(1)??"-"})}),s.jsx("td",{className:"py-3 px-4",children:r(e?.media_geral??0)})]},`${e?.ano}-${e?.escola}-${e?.turma}`))})]})})]}):(0,s.jsx)(d,{className:"p-6 bg-white/70 backdrop-blur-sm border-blue-200 shadow-lg",children:(0,s.jsx)("div",{className:"text-center text-gray-500 py-8",children:(0,s.jsx)("p",{children:"Nenhum dado dispon\xedvel para exibir na tabela"})})})}var D=t(1769);function K({data:e}){let a=(()=>{let a={};Object.values(e??{})?.forEach?.(e=>{Array.isArray(e)&&e?.forEach?.(e=>{Object.entries(e?.materias??{})?.forEach?.(e=>{let[t,s]=e;a[t]||(a[t]={total:0,count:0,name:""}),a[t].total+=Number(s)??0,a[t].count+=1})})});let t=Object.entries(a)?.map?.(e=>{let[a,t]=e;return{materia:({LP:"L\xedngua Portuguesa",MAT:"Matem\xe1tica",CN:"Ci\xeancias Naturais"})[a]??a,codigo:a,media:t?.count>0?t?.total/t?.count:0,turmas:t?.count??0}});return t?.sort?.((e,a)=>(a?.media??0)-(e?.media??0))??[]})();return a?.length?(0,s.jsxs)(d,{className:"p-6 bg-white/70 backdrop-blur-sm border-blue-200 shadow-lg",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2 mb-6",children:[(0,s.jsx)(D.Z,{className:"h-5 w-5 text-blue-600"}),(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Desempenho por Mat\xe9ria"})]}),(0,s.jsx)("div",{className:"h-96",children:(0,s.jsx)(c.h,{width:"100%",height:"100%",children:(0,s.jsxs)(x.v,{data:a,margin:{top:20,right:30,left:20,bottom:40},children:[(0,s.jsx)(m.K,{dataKey:"materia",tickLine:!1,tick:{fontSize:10},interval:"preserveStartEnd",label:{value:"Mat\xe9rias",position:"insideBottom",offset:-15,style:{textAnchor:"middle",fontSize:11}}}),(0,s.jsx)(p.B,{tickLine:!1,tick:{fontSize:10},label:{value:"M\xe9dia (%)",angle:-90,position:"insideLeft",style:{textAnchor:"middle",fontSize:11}}}),(0,s.jsx)(h.u,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:11},formatter:(e,a)=>[`${Number(e)?.toFixed?.(1)??"0.0"}%`,"M\xe9dia Geral"],labelFormatter:(e,a)=>{let t=a?.[0]?.payload;return`${e} (${t?.turmas} turmas)`}}),(0,s.jsx)(u.D,{verticalAlign:"top",wrapperStyle:{fontSize:11}}),(0,s.jsx)(f.$,{dataKey:"media",fill:"#34D399",name:"M\xe9dia da Mat\xe9ria",radius:[4,4,0,0],style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.1))"}})]})})})]}):(0,s.jsx)(d,{className:"p-6 bg-white/70 backdrop-blur-sm border-blue-200 shadow-lg",children:(0,s.jsx)("div",{className:"flex items-center justify-center h-96 text-gray-500",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(D.Z,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,s.jsx)("p",{children:"Nenhum dado de mat\xe9rias dispon\xedvel"})]})})})}function Y(){let[e,a]=(0,r.useState)("all"),[t,l]=(0,r.useState)({}),[i,o]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/data/ranking_turmas_por_ano.json"),a=await e.json();l(a??{})}catch(e){console.error("Erro ao carregar dados:",e),l({})}finally{o(!1)}})()},[]);let d=Object.keys(t??{}),n="all"===e?t:{[e]:t?.[e]??[]};return i?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-lg text-gray-600",children:"Carregando dados..."})]})}):(0,s.jsxs)("div",{className:"p-8 max-w-7xl mx-auto",children:[(0,s.jsxs)(M.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Ranking das Turmas Escolares"}),(0,s.jsx)("p",{className:"text-lg text-gray-600",children:"An\xe1lise de desempenho e classifica\xe7\xe3o por ano de ensino"})]}),(0,s.jsx)(M.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-8",children:(0,s.jsx)($,{availableYears:d,selectedYear:e,onYearChange:a})}),(0,s.jsx)(M.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-8",children:(0,s.jsx)(F,{data:n})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8 mb-8",children:[(0,s.jsx)(M.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},children:(0,s.jsx)(b,{data:n,selectedYear:e})}),(0,s.jsx)(M.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},children:(0,s.jsx)(K,{data:n})})]}),(0,s.jsx)(M.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:(0,s.jsx)(B,{data:n})})]})}function V(){return(0,s.jsx)(Y,{})}}},function(e){e.O(0,[381,971,117,744],function(){return e(e.s=4455)}),_N_E=e.O()}]);